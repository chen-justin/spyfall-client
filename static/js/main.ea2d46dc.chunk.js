(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,a){e.exports=a(80)},40:function(e,t,a){},41:function(e,t,a){},70:function(e,t){},73:function(e,t,a){},74:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n,c,l,o=a(0),r=a.n(o),i=a(31),s=a.n(i),m=(a(40),a(2)),u=(a(41),a(32)),E=a(33),d=a(34),v=a.n(d),f=a(82);!function(e){e[e.SPLASH=0]="SPLASH",e[e.CREATE=1]="CREATE",e[e.JOIN=2]="JOIN",e[e.LOBBY=3]="LOBBY",e[e.INGAME=4]="INGAME"}(n||(n={})),function(e){e[e.SP1=0]="SP1",e[e.SP2=1]="SP2",e[e.BOTH=2]="BOTH",e[e.CUSTOM=3]="CUSTOM"}(c||(c={})),function(e){e.CONNECT="connect",e.DISCONNECT="disconnect",e.JOIN="join",e.LEAVE="leave",e.CREATEROOM="createroom",e.CHANGENAME="changename",e.STARTGAME="startgame",e.ENDGAME="endgame",e.RECEIVEPAYLOAD="receivepayload"}(l||(l={}));var p=function(){function e(){Object(u.a)(this,e),this.socket={}}return Object(E.a)(e,[{key:"init",value:function(){return this.socket=v()("https://ramblr.herokuapp.com/"),this}},{key:"getID",value:function(){return this.socket.id}},{key:"join",value:function(e,t){this.socket.emit(l.JOIN,e,t)}},{key:"createRoom",value:function(e,t){this.socket.emit(l.CREATEROOM,e,t)}},{key:"startGame",value:function(e){this.socket.emit(l.STARTGAME,e)}},{key:"endGame",value:function(e){this.socket.emit(l.ENDGAME,e)}},{key:"leave",value:function(e){this.socket.emit(l.LEAVE,e)}},{key:"changeUsername",value:function(e){this.socket.emit(l.CHANGENAME,e)}},{key:"receivePayload",value:function(){return Object(f.a)(this.socket,l.RECEIVEPAYLOAD)}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),e}(),y=Object(o.createContext)(new p),b=(a(73),function(e){var t=Object(o.useState)(""),a=Object(m.a)(t,2),l=a[0],i=a[1],s=Object(o.useState)(c.SP1),u=Object(m.a)(s,2),E=u[0],d=u[1],v=Object(o.useState)(8),f=Object(m.a)(v,2),p=f[0],y=f[1],b=function(e){var t=e.target;d(parseInt(t.value))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title"},"Welcome to Spyfall"),r.a.createElement("div",{className:"create-controls"},r.a.createElement("input",{className:"create-contorls-name-input",type:"text",placeholder:"Your Name",value:l,onChange:function(e){i(e.target.value)}}),r.a.createElement("div",{className:"create-controls-locations-container"},r.a.createElement("p",null,"Locations"),r.a.createElement("form",null,r.a.createElement("div",{className:"create-controls-radio"},r.a.createElement("input",{type:"radio",name:"loc",value:c.SP1,onChange:b,defaultChecked:!0})," Spyfall 1 Locations"),r.a.createElement("div",{className:"create-controls-radio"},r.a.createElement("input",{type:"radio",name:"loc",value:c.SP2,onChange:b})," Spyfall 2 Locations"),r.a.createElement("div",{className:"create-controls-radio"},r.a.createElement("input",{type:"radio",name:"loc",value:c.BOTH,onChange:b})," Spyfall 1 and Spyfall 2 Locations"),r.a.createElement("div",{className:"create-controls-radio"},r.a.createElement("input",{type:"radio",name:"loc",value:c.CUSTOM,onChange:b})," Custom"))),r.a.createElement("div",{className:"create-controls-container"},r.a.createElement("p",null,"Round Length (minutes):"),r.a.createElement("input",{type:"number",name:"duration",value:p,min:"1",max:"10",onChange:function(e){return y(parseInt(e.target.value))}})),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{onClick:function(){""===l||p<1||p>20||e.onSubmit(l,E,p)}},"Create"),r.a.createElement("button",{onClick:function(){e.onGameStateChange(n.SPLASH)}},"Back"))))}),N=(a(74),a(14)),S=a(16),O=function(e){var t=e.payload.users,a=e.payload.roomName;return r.a.createElement("div",{className:"game-lobby-container"},r.a.createElement("div",{className:"title"},"Waiting for Players..."),r.a.createElement("div",{className:"game-lobby-access-line"},"Access Code:",r.a.createElement("span",{id:"access-code",className:"game-lobby-access-code"},a),r.a.createElement("button",null,r.a.createElement(N.a,{icon:S.b}))),r.a.createElement("div",{className:"player-list-container"},Object.keys(t).map((function(a,n){return r.a.createElement("div",{className:"player-list-cell",key:a},r.a.createElement("span",{className:"player-list-cell-number"},n+1),r.a.createElement("span",{className:"player-list-player-name"},t[a]),a===e.userID&&r.a.createElement("span",{className:"player-list-player-you"},"(you)"),a===e.userID&&r.a.createElement("span",{className:"player-list-you-edit-button"},r.a.createElement("button",{className:"name-edit-button",onClick:function(){console.log("Clicked edit!")}},r.a.createElement(N.a,{icon:S.a}))))}))),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{onClick:function(){return e.startGame(a)}},"Start Game"),r.a.createElement("button",{onClick:function(){return e.leaveLobby()}},"Leave Game")))},g=function(e){var t=Object(o.useState)(""),a=Object(m.a)(t,2),n=a[0],c=a[1],l=Object(o.useState)(""),i=Object(m.a)(l,2),s=i[0],u=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title"},"Welcome to Spyfall"),r.a.createElement("div",{className:"join-controls"},r.a.createElement("input",{type:"text",value:n,placeholder:"Access code",onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{type:"text",value:s,placeholder:"Your name",onChange:function(e){return u(e.target.value)}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"1rem"}},r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{onClick:function(){return e.onSubmit(n,s)}},"Join"),r.a.createElement("button",{onClick:function(){return e.requestBack()}},"Back")))))},h=(a(79),function(e){var t=e.payload,a=e.payload.users,n=t.locations,c=t.location,l=e.userID===t.spy,i=e.userID!==t.spy,s=Math.floor((t.endTime-t.startTime)/1e3),u=Object(o.useState)(s),E=Object(m.a)(u,2),d=E[0],v=E[1],f=Object(o.useState)(!1),p=Object(m.a)(f,2),y=p[0],b=p[1];Object(o.useEffect)((function(){var e=null;return d<=0?b(!0):!y&&t.inSession?e=setInterval((function(){v((function(e){return e-1}))}),1e3):clearInterval(e),function(){clearInterval(e)}}),[t.inSession,d]);var N=Math.floor(d/60),S=(d%60).toString().padStart(2,"0");return r.a.createElement("div",{className:"spyfall-game-container"},r.a.createElement("div",{className:"spyfallgame-timer"},N+":"+S),r.a.createElement("div",{className:"spyfallgame-role-banner"},l&&r.a.createElement("span",null,"You are the spy!"),i&&r.a.createElement("div",{className:"agent-banner"},r.a.createElement("div",null,"You are ",r.a.createElement("strong",null,"not")," the spy!"),r.a.createElement("div",{className:"agent-info"},r.a.createElement("div",null,"The location: ",c),r.a.createElement("div",null,"Your role: ",t.agents[e.userID]," ")))),r.a.createElement("div",{className:"spyfallgame-info-container"},r.a.createElement("p",null,"Players"),r.a.createElement("div",{className:"grid-container"},Object.keys(a).map((function(e,t){var n=a[e];return r.a.createElement("div",{key:e,className:"grid-item"},r.a.createElement("p",null,n))}))),r.a.createElement("p",null,"Locations"),r.a.createElement("div",{className:"grid-container"},n.map((function(e){var t=e.title;return r.a.createElement("div",{key:t,className:"grid-item"},r.a.createElement("p",null,t))})))),r.a.createElement("div",{className:"spyfallgame-controls"},r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{onClick:function(){return e.handleEndGame(t.roomName)}},"End Game"),r.a.createElement("button",{onClick:e.handleLeaveGame},"Leave Game"))))}),k=function(){var e=Object(o.useState)(n.SPLASH),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(o.useContext)(y),i=Object(o.useState)({roomName:"",roundDuration:0,locations:[],users:{},inSession:!1,location:"",startTime:0,endTime:0,spy:"",agents:{}}),s=Object(m.a)(i,2),u=s[0],E=s[1],d=Object(o.useState)(""),v=Object(m.a)(d,2),f=v[0],p=v[1];Object(o.useEffect)((function(){return l.init(),l.receivePayload().subscribe((function(e){p(l.getID()),E(e),e.inSession?c(n.INGAME):c(n.LOBBY)})),function(){l.disconnect()}}),[]);var N=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title"},"Welcome to Spyfall"),r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{onClick:function(){c(n.CREATE)}},"New Game"),r.a.createElement("button",{onClick:function(){c(n.JOIN)}},"Join Game")))),S=function(){l.leave(u.roomName),E({roomName:"",roundDuration:0,locations:[],users:{},inSession:!1,location:"",startTime:0,endTime:0,spy:"",agents:{}}),c(n.SPLASH)};return r.a.createElement("div",{className:"spyfall-wrapper"},r.a.createElement("div",{className:"spyfall"},a===n.SPLASH&&N,a===n.CREATE&&r.a.createElement(b,{onGameStateChange:c,onSubmit:function(e,t,a){l.createRoom({roundDuration:a,locationType:t},e)}}),a===n.JOIN&&r.a.createElement(g,{onSubmit:function(e,t){l.join(e,t)},requestBack:function(){return c(n.SPLASH)}}),a===n.LOBBY&&r.a.createElement(O,{userID:f,payload:u,leaveLobby:S,startGame:function(e){l.startGame(e)}}),a===n.INGAME&&r.a.createElement(h,{userID:f,payload:u,handleEndGame:function(e){l.endGame(e)},handleLeaveGame:S})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=new p;s.a.render(r.a.createElement(y.Provider,{value:C},r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.ea2d46dc.chunk.js.map